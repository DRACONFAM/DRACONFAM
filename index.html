<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel Logowania, Menu i MiniGra</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<style>
body {margin:0;padding:0;font-family:'Orbitron',sans-serif;overflow:hidden;height:100vh;background:radial-gradient(circle at center,#1a0000 0%,#000000 80%);color:white;transition:background 0.5s;}
body::before{content:"";position:absolute;width:600px;height:600px;background:red;border-radius:50%;filter:blur(200px);opacity:0.15;animation:pulse 6s infinite alternate;z-index:0;}
@keyframes pulse{from{transform:scale(1);} to{transform:scale(1.3);} }
.skull{position:absolute;top:-50px;font-size:24px;color:red;animation:fall linear infinite;opacity:0.3;z-index:9999;}
@keyframes fall{to{transform:translateY(110vh) rotate(360deg);}}

/* LOGIN */
.login-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(10,0,0,0.9);padding:40px;border-radius:12px;box-shadow:0 0 30px red;width:340px;text-align:center;z-index:10;}
.login-box input{width:100%;padding:10px;margin:10px 0;background:black;border:1px solid red;color:white;border-radius:6px;}
.input-group{position:relative;}
.toggle-password{position:absolute;right:12px;top:50%;transform:translateY(-50%);cursor:pointer;color:red;font-size:18px;}
.login-box button{width:100%;padding:12px;margin-top:15px;background:black;border:2px solid red;color:red;font-weight:bold;font-family:'Orbitron',sans-serif;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:6px;position:relative;overflow:hidden;animation:neonPulse 2s infinite alternate;}
@keyframes neonPulse{0%{box-shadow:0 0 5px red,0 0 10px red,0 0 20px darkred;}50%{box-shadow:0 0 15px red,0 0 30px red,0 0 40px darkred;}100%{box-shadow:0 0 5px red,0 0 10px red,0 0 20px darkred;}}
.error-message{color:red;margin-top:10px;opacity:0;transition:opacity 0.3s;}
.error-message.show{opacity:1;}

/* Nowa strona / baza danych */
.new-page{width:100%;height:100%;display:none;justify-content:center;align-items:center;position:relative;}
.circle-menu svg{width:350px;height:350px;}
.segment{cursor:pointer;stroke:black;stroke-width:2;}
.segment:hover{fill:black;}
.segment-text{font-size:12px;fill:white;text-anchor:middle;dominant-baseline:middle;}

/* Baza danych */
.database-container{width:80%;max-width:900px;}
.database-header,.database-row{display:grid;grid-template-columns:1fr 1fr 1fr 1fr auto;padding:15px 20px;align-items:center;}
.database-header{background:black;color:red;font-weight:bold;border-bottom:2px solid red;}
.database-row{background:rgba(20,0,0,0.8);border-bottom:1px solid red;transition:0.3s;}
.database-row:hover{background:rgba(60,0,0,0.9);}
.change-rank-btn{padding:5px 10px;background:red;border:none;color:white;font-weight:bold;border-radius:4px;cursor:pointer;}
.rank-select{display:none;margin-top:5px;}

/* Powiadomienia */
.notification{position:fixed;top:20px;left:50%;transform:translateX(-50%);padding:12px 20px;border-radius:6px;font-weight:bold;display:none;z-index:2000;color:white;}
.notification.success{background:green;}
.notification.error{background:darkred;}

/* Przycisk powrotu do menu */
#homeButton{position:absolute;top:20px;left:20px;width:50px;height:50px;background:black;border:2px solid red;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;color:white;font-size:24px;z-index:1000;animation:neonPulse 2s infinite alternate;transition: transform 0.2s, box-shadow 0.2s;}
#homeButton:hover{transform:scale(1.1) rotate(-5deg);box-shadow:0 0 15px red,0 0 30px red,0 0 40px white;}
#homeButton::before{content:"üè†";}

/* Dostosuj */
.customize-container{color:white;padding:20px;}
.customize-container label{margin-right:10px;}
.customize-container select,input{margin-bottom:15px;padding:6px;border-radius:5px;border:1px solid red;background:black;color:white;}
.customize-container button{padding:8px 15px;background:red;border:none;color:white;border-radius:5px;cursor:pointer;}
</style>
</head>
<body>

<div class="login-box" id="loginPage">
<h2>LOGOWANIE</h2>
<input type="text" id="login" placeholder="Login">
<div class="input-group">
<input type="password" id="password" placeholder="Has≈Ço">
<span class="toggle-password" onclick="togglePassword()">üëÅ</span>
</div>
<button onclick="checkLogin()">ZATWIERD≈π</button>
<div class="error-message" id="error">Nieprawid≈Çowy login lub has≈Ço!</div>
</div>

<div class="new-page" id="newPage"></div>
<div class="notification" id="notification"></div>

<script>
// LecƒÖce emotki
let currentEmote = "üíÄ";
let fallingEmojis = [];

function spawnEmojis(){
    fallingEmojis.forEach(e=>e.remove());
    fallingEmojis=[];
    for(let i=0;i<40;i++){
        let e = document.createElement("div");
        e.classList.add("skull");
        e.innerHTML = currentEmote;
        e.style.left = Math.random()*100 + "vw";
        e.style.animationDuration = (4+Math.random()*6) + "s";
        e.style.fontSize = (15 + Math.random()*35) + "px";
        document.body.appendChild(e);
        fallingEmojis.push(e);
    }
}

// Toggle password
function togglePassword(){
    const p=document.getElementById("password");
    p.type = p.type === "password" ? "text" : "password";
}

// Loginy i rangi
const users = {
    "LeanAzbest":"X9vP2bQ7mL4Z",
    "DwayneBrooks":"A9b4F2k7L1Qz",
    "SophieSantiago":"S9p3T8g2Q1Lx",
    "WadeCichowski":"W4d3C1h0sK2i",
    "JasonMarmoladka":"J4s0nM4rM8L9"
};

const ranks={1:"‚îÇZAWIESZONY‚îÇ",2:"‚îÇREKRUT‚îÇ",3:"‚îÇKADET‚îÇ",4:"‚îÇSZEREGOWY‚îÇ",5:"‚îÇGANGSTA‚îÇ",6:"‚îÇBIG GANGSTA‚îÇ",7:"‚îÇOG‚îÇ",8:"‚îÇMAIN‚îÇ",9:"‚îÇZARZAD‚îÇ",10:"‚îÇV-LEADER‚îÇ","LEADER":"üëë ‚îÉLEADER‚îÉ"};

let database=[
    {imie:"Lean",nazwisko:"Azbest",uid:"#51679",ranga:9},
    {imie:"Dwayne",nazwisko:"Brooks",uid:"#126572",ranga:10},
    {imie:"Sophie",nazwisko:"Suntago",uid:"#53242",ranga:4},
    {imie:"Wade",nazwisko:"Cichowski",uid:"#119159",ranga:9}, // Admin
    {imie:"Jason",nazwisko:"Marmoladka",uid:"#140152",ranga:7} // brak Admin
];

let currentUser=null;
let loggedUserRank=0;

// Powiadomienia
function showNotification(msg,type="success"){
    const n=document.getElementById("notification");
    n.innerText = msg;
    n.className = "notification "+type;
    n.style.display = "block";
    setTimeout(()=> n.style.display="none",3000);
}

// Logowanie
function checkLogin(){
    const login=document.getElementById("login").value;
    const pass=document.getElementById("password").value;
    if(users[login] && users[login]===pass){
        currentUser = login;
        const u = database.find(u => (u.imie+u.nazwisko)===currentUser);
        loggedUserRank = u ? u.ranga : 0;
        document.getElementById("loginPage").remove();
        document.getElementById("newPage").style.display="flex";
        createCircleMenu();
        spawnEmojis();
    } else {
        const e=document.getElementById("error");
        e.classList.add("show");
        setTimeout(()=>e.classList.remove("show"),3000);
    }
}

// Menu ko≈Çowe
function createCircleMenu(){
    const newPage = document.getElementById("newPage");
    newPage.innerHTML = `
    <div class="circle-menu">
        <svg viewBox="0 0 200 200">
            <path class="segment" d="M100,100 L100,0 A100,100 0 0,1 180.9,58.78 Z" fill="red" onclick="openDatabase()"></path>
            <text class="segment-text" x="140" y="50">Baza Danych</text>
            <path class="segment" d="M100,100 L180.9,58.78 A100,100 0 0,1 140.45,176.6 Z" fill="red" onclick="openCustomize()"></path>
            <text class="segment-text" x="160" y="130">Dostosuj</text>
            <path class="segment" d="M100,100 L140.45,176.6 A100,100 0 0,1 59.55,176.6 Z" fill="red" onclick="openMiniGame()"></path>
            <text class="segment-text" x="100" y="170">MiniGra</text>
        </svg>
    </div>
    `;
    const hb = document.getElementById("homeButton"); if(hb) hb.remove();
}

// Przycisk powrotu
function createHomeButton(){
    if(!document.getElementById("homeButton")){
        const hb = document.createElement("div");
        hb.id="homeButton";
        hb.title="Powr√≥t do menu";
        hb.onclick = ()=>{createCircleMenu(); hb.remove();};
        document.body.appendChild(hb);
    }
}

// Baza danych
function openDatabase(){
    createHomeButton();
    const canChange = [9,10,"LEADER"].includes(loggedUserRank);
    let rows = "";
    database.forEach((p,i)=>{
        let rName = ranks[p.ranga] || "Brak";
        let btn = canChange ? `<button class="change-rank-btn" onclick="showRankSelect(${i})">Zmie≈Ñ rangƒô</button>` : `<button class="change-rank-btn" onclick="noPerm()">Zmie≈Ñ rangƒô</button>`;
        rows+=`<div class="database-row">
        <div>${p.imie}</div>
        <div>${p.nazwisko}</div>
        <div>${p.uid}</div>
        <div>${p.ranga} ${ranks[p.ranga]}</div>
        <div>${btn}<select class="rank-select" id="rankSelect${i}" onchange="changeRank(${i})">${Object.keys(ranks).map(r=>`<option value="${r}">${r} ${ranks[r]}</option>`).join('')}</select></div>
        </div>`;
    });
    const newPage = document.getElementById("newPage");
    newPage.innerHTML = `<div class="database-container"><div class="database-header"><div>Imiƒô</div><div>Nazwisko</div><div>UID</div><div>Ranga</div><div>Akcje</div></div>${rows}</div>`;
}

function showRankSelect(i){document.getElementById(`rankSelect${i}`).style.display="inline-block";}
function changeRank(i){
    const s=document.getElementById(`rankSelect${i}`);
    const nr=s.value;
    database[i].ranga = isNaN(nr)?nr:parseInt(nr);
    s.style.display="none";
    showNotification("Ranga zosta≈Ça zmieniona pomy≈õlnie ‚úÖ","success");
    openDatabase();
}
function noPerm(){showNotification("Nie masz permisji ‚ùå","error");}

// Dostosuj
function openCustomize(){
    createHomeButton();
    const newPage = document.getElementById("newPage");
    newPage.innerHTML = `
    <div class="customize-container">
        <h2>Dostosuj wyglƒÖd</h2>
        <label>Emotka spadajƒÖca:</label>
        <select id="emoteSelect">
            <option value="üíÄ">üíÄ Czaszka</option>
            <option value="üî•">üî• Ogie≈Ñ</option>
            <option value="üåü">üåü Gwiazda</option>
            <option value="üíß">üíß Kropla</option>
            <option value="üçÄ">üçÄ Koniczyna</option>
        </select>
        <br>
        <label>Kolor t≈Ça:</label>
        <input type="color" id="bgColorPicker" value="#000000">
        <br>
        <button onclick="applyCustomize()">Zastosuj</button>
    </div>
    `;
}

function applyCustomize(){
    const emote = document.getElementById("emoteSelect").value;
    const color = document.getElementById("bgColorPicker").value;
    currentEmote = emote;
    document.body.style.background = color;
    spawnEmojis();
    showNotification("Zmiany zastosowane ‚úÖ","success");
}

// MiniGra Pong
function openMiniGame(){
    createHomeButton();
    const newPage = document.getElementById("newPage");
    newPage.innerHTML = `
        <canvas id="pongCanvas" width="800" height="500" style="background:black;display:block;margin:0 auto;border:2px solid red;"></canvas>
        <div id="startText" style="text-align:center;color:red;margin-top:5px;">Kliknij SPACJƒò aby rozpoczƒÖƒá</div>
    `;
    const canvas = document.getElementById("pongCanvas");
    const ctx = canvas.getContext("2d");

    let ballRadius = 12;
    let x = canvas.width/2;
    let y = canvas.height/2;
    const baseSpeed = 2; // poczƒÖtkowa prƒôdko≈õƒá
    let dx = baseSpeed;
    let dy = baseSpeed;
    const paddleWidth = 120;
    const paddleHeight = 12;
    let paddleX = (canvas.width - paddleWidth)/2;
    let aiPaddleX = (canvas.width - paddleWidth)/2;
    let rightPressed = false;
    let leftPressed = false;
    let gameStarted = false;
    let hitCount = 0;

    function resetBall(){
        x = canvas.width/2;
        y = canvas.height/2;
        paddleX = (canvas.width - paddleWidth)/2;
        dx = (Math.random() > 0.5 ? 1 : -1) * baseSpeed;
        dy = (Math.random() > 0.5 ? 1 : -1) * baseSpeed;
        hitCount = 0;
        document.getElementById("startText").style.display="block";
    }

    document.addEventListener("keydown", keyDownHandler,false);
    document.addEventListener("keyup", keyUpHandler,false);
    document.addEventListener("keydown", startHandler,false);

    function startHandler(e){
        if(e.code==="Space"){
            gameStarted = true;
            resetBall();
            document.getElementById("startText").style.display="none";
            draw();
        }
    }
    function keyDownHandler(e){
        if(e.key==="d" || e.key==="D"){rightPressed=true;}
        if(e.key==="a" || e.key==="A"){leftPressed=true;}
    }
    function keyUpHandler(e){
        if(e.key==="d" || e.key==="D"){rightPressed=false;}
        if(e.key==="a" || e.key==="A"){leftPressed=false;}
    }

    function drawBall(){
        ctx.beginPath();
        ctx.arc(x,y,ballRadius,0,Math.PI*2);
        ctx.fillStyle="green";
        ctx.fill();
        ctx.closePath();
    }
    function drawPaddle(){
        ctx.fillStyle="red";
        ctx.fillRect(paddleX,canvas.height-paddleHeight-10,paddleWidth,paddleHeight);
    }
    function drawAIPaddle(){
        ctx.fillStyle="blue";
        ctx.fillRect(aiPaddleX,10,paddleWidth,paddleHeight);
    }

    function draw(){
        if(!gameStarted) return;

        ctx.clearRect(0,0,canvas.width,canvas.height);
        drawBall();
        drawPaddle();
        drawAIPaddle();

        if(x+dx>canvas.width-ballRadius || x+dx<ballRadius){dx=-dx;}
        if(y+dy<10+paddleHeight){dy=-dy;}
        if(y+dy>canvas.height-ballRadius){
            gameStarted=false;
            document.getElementById("startText").style.display="block";
            ctx.clearRect(0,0,canvas.width,canvas.height);
            drawBall();
            drawPaddle();
            drawAIPaddle();
            return;
        }

        if(y+dy>canvas.height-paddleHeight-10-ballRadius){
            if(x>paddleX && x<paddleX+paddleWidth){
                dy=-dy;
                hitCount++;
                if(hitCount %5 ===0){ dx*=1.05; dy*=1.05; }
            }
        }

        if(y-ballRadius<10+paddleHeight){
            if(x>aiPaddleX && x<aiPaddleX+paddleWidth){ dy=-dy; }
        }

        if(rightPressed && paddleX < canvas.width - paddleWidth){paddleX+=5;}
        if(leftPressed && paddleX>0){paddleX-=5;}

        const aiCenter = aiPaddleX + paddleWidth/2;
        if(aiCenter < x){aiPaddleX += 4;}
        if(aiCenter > x){aiPaddleX -=4;}
        if(aiPaddleX<0) aiPaddleX=0;
        if(aiPaddleX>canvas.width-paddleWidth) aiPaddleX=canvas.width-paddleWidth;

        x += dx;
        y += dy;
        requestAnimationFrame(draw);
    }
}

// Uruchomienie poczƒÖtkowe emotek
spawnEmojis();
</script>
</body>
</html>
